# wpgen Configuration File

# LLM Provider Settings
llm:
  # Options: "openai", "anthropic", "local-lmstudio", "local-ollama"
  provider: "openai"

  # Global LLM settings
  temperature: 0.4
  max_tokens: 2048
  timeout: 60

  # Model configurations
  openai:
    model: "gpt-4-turbo-preview"
    max_tokens: 4096
    temperature: 0.7

  anthropic:
    model: "claude-3-5-sonnet-20241022"
    max_tokens: 4096
    temperature: 0.7

  # Local LLM configurations (Dual-model: Brains + Vision)
  # LM Studio - OpenAI-compatible local server
  local-lmstudio:
    # Brains model: used for text-only reasoning (prompt analysis, code generation without images)
    brains_model: "Meta-Llama-3.1-8B-Instruct"
    brains_base_url: "http://localhost:1234/v1"

    # Vision model: used when images are provided (design analysis, vision-based code generation)
    # Leave empty to disable vision support (requests with images will fail gracefully)
    vision_model: "Llama-3.2-Vision-11B-Instruct"
    vision_base_url: "http://localhost:1234/v1"

  # Ollama - OpenAI-compatible local server
  local-ollama:
    # Brains model: conversational model for text-only tasks
    brains_model: "llama3.1:8b-instruct"
    brains_base_url: "http://localhost:11434/v1"

    # Vision model: for image analysis and design-driven generation
    # Suggested: llama3.2-vision:11b-instruct, qwen2-vl:7b-instruct, llava:13b
    vision_model: "llama3.2-vision:11b-instruct"
    vision_base_url: "http://localhost:11434/v1"

# GitHub Settings
github:
  # Base URL for GitHub API (change for GitHub Enterprise)
  api_url: "https://api.github.com"

  # Default organization or username (leave empty to use authenticated user)
  default_owner: ""

  # Repository naming pattern (variables: {theme_name}, {timestamp})
  repo_name_pattern: "wp-{theme_name}-{timestamp}"

  # Auto-create repository if it doesn't exist
  auto_create: true

  # Make repository private by default
  private: false

  # Default branch name
  default_branch: "main"

# WordPress Generation Settings
wordpress:
  # Default theme prefix for generated themes
  theme_prefix: "wpgen"

  # WordPress version to target
  wp_version: "6.4"

  # Include starter content
  include_sample_content: true

  # Generate child theme or standalone theme
  # Options: "child" or "standalone"
  theme_type: "standalone"

  # Parent theme (if child theme)
  parent_theme: "twentytwentyfour"

  # Default theme author
  author: "WPGen"

  # Default theme author URI (will be derived from GitHub repo if not set)
  author_uri: ""

  # Default theme URI (will be derived from GitHub repo if not set)
  theme_uri: ""

  # Default theme license
  license: "GPL-2.0-or-later"

# Output Settings
output:
  # Base directory for generated themes (relative to project root)
  output_dir: "output"

  # Clean output directory before generation
  clean_before_generate: false

  # Keep local copy after pushing to GitHub
  keep_local_copy: true

# Logging Settings
logging:
  # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"

  # Log file location
  log_file: "logs/wpgen.log"

  # Log format
  format: "json"  # Options: "json" or "text"

  # Console output
  console_output: true

  # Colored console output
  colored_console: true

# Web UI Settings (Flask)
web:
  # Enable web UI
  enabled: true

  # Host to bind to
  host: "0.0.0.0"

  # Port to bind to
  port: 5000

  # Debug mode
  debug: false

  # Secret key for sessions (REQUIRED: set WPGEN_SECRET_KEY environment variable)
  # secret_key: ""  # Removed for security - load from WPGEN_SECRET_KEY env var

# Deployment Settings
deployment:
  # Enable automatic deployment
  enabled: false

  # Deployment method: "ftp", "ssh", or "github_actions"
  method: "github_actions"

  # FTP settings
  ftp:
    host: ""
    port: 21
    username: ""
    remote_path: "/public_html/wp-content/themes"

  # SSH settings
  ssh:
    host: ""
    port: 22
    username: ""
    remote_path: "/var/www/html/wp-content/themes"
    key_file: "~/.ssh/id_rsa"

# WordPress Site Management (REST API)
wordpress_api:
  # Enable WordPress REST API integration
  enabled: false

  # WordPress site URL (without /wp-json)
  # Override with WP_SITE_URL environment variable
  site_url: ""

  # WordPress username
  # Override with WP_USERNAME environment variable
  username: ""

  # WordPress application password (recommended) or user password
  # Override with WP_APP_PASSWORD environment variable
  # Generate at: https://yoursite.com/wp-admin/profile.php
  password: ""

  # Verify SSL certificates
  verify_ssl: true

  # Request timeout (seconds)
  timeout: 30

  # Auto-deploy theme after generation
  auto_deploy: false

  # Auto-activate theme after deployment
  auto_activate: true

  # Enable LLM-powered site management commands
  enable_llm_control: true

  # Mock mode for testing (doesn't make real API calls)
  mock_mode: false
